---
title: "Get going with nzcensr"
author: "Phil Donovan"
date: "`r Sys.Date()`"
output: 
  rmarkdown::html_vignette:
    fig_caption: yes
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Introduction

The `nzcensr` package is mainly a data package to make it easy to import the New Zealand Census data as either normal or spatial dataframes without having to download the data for each project and perform different joins.
The package contains the following data sets:

```{r datasets, results='asis', echo = FALSE}
knitr::kable(nzcensr::nz_census_data())
```

At present, it only has two functions:

  1. `nz_census_data()` and
  2. `read_nz_census_data()`.
  
## Fuel types in NZ

Let's explore the dwelling data set at the regional level.

```{r analysis}
library(nzcensr)

# Read in data
dwelling_regions_long <- read_nz_census_data(dwelling_regions, 
                                          long = TRUE, 
                                          replace_confidential_values = NA_integer_, 
                                          include_gis = FALSE)
knitr::kable(head(dwelling_regions_long))
```

Nice and easy! 
This call brings in the following dataset having set confidential values to NA, wihtout including the GIS geometry and in the 'long' firmat. 
This make for easy plotting in `ggplot2`.
Let's clean and extract th columns we have so that we can have a look at some of the fuel types used in four regions in New Zealand: Auckland, Wellington, Canterbury and Otago.

```{r, message=FALSE, warning=FALSE}
dwelling_regions_long_clean <- clean_census_columns(dwelling_regions_long)
```

